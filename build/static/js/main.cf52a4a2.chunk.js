(this.webpackJsonpricknmorty=this.webpackJsonpricknmorty||[]).push([[0],[,,,,function(e,a,t){},,function(e,a,t){e.exports=t(17)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(5),o=t.n(r),l=(t(11),t(4),t(12),t(13),t(2)),i=t(1),s=function(e,a){switch(a.type){case"GET_CHARACTERS":return Object(i.a)(Object(i.a)({},e),{},{characters:a.payload});case"GET_INFO":return Object(i.a)(Object(i.a)({},e),{},{info:a.payload});case"SET_IS_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:a.payload});case"SET_PAGE":return Object(i.a)(Object(i.a)({},e),{},{page:a.payload});case"SET_SEARCH":return Object(i.a)(Object(i.a)({},e),{},{search:a.payload});default:return e}},u=Object(n.createContext)(),m=function(e,a){switch(a.type){case"SET_THEME":return Object(i.a)(Object(i.a)({},e),{},{isDarkTheme:!e.isDarkTheme});case"CHANGE_THEME":return Object(i.a)(Object(i.a)({},e),{},{isDarkTheme:a.payload});default:return e}},p=function(e){var a=e.children,t=Object(n.useReducer)(m,{isDarkTheme:!0,dark:{mainBack:"rgba(20, 20, 19, 0.822)",color:"rgba(177, 174, 174, 0.767)",headerBack:"rgb(14, 13, 13)",border:"1px solid white",characterBack:"rgba(87, 79, 80, 0.342)"},light:{mainBack:"rgba(237, 241, 245)",color:"whitesmoke",headerBack:"rgb(1, 20, 51)",border:"1px solid brown",characterBack:"rgba(8, 42, 97)"}}),r=Object(l.a)(t,2),o=r[0],i=r[1],s=o.isDarkTheme;return Object(n.useEffect)((function(){var e=localStorage.getItem("theme");if(e){var a=!1;"dark"===e&&(a=!0),i({type:"CHANGE_THEME",payload:a})}}),[]),Object(n.useEffect)((function(){s?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}),[s]),c.a.createElement(u.Provider,{value:{theme:o,dispatch:i}},a)},h={characters:[],info:[],page:1,isLoading:!1,search:"",chosenCharacter:""},d=Object(n.createContext)(h),E=function(e){var a=e.children,t=Object(n.useReducer)(s,h),r=Object(l.a)(t,2),o=r[0],i=r[1],m=Object(n.useContext)(u).theme,p=m.isDarkTheme?m.dark:m.light;return Object(n.useEffect)((function(){i({type:"SET_IS_LOADING",payload:!0}),fetch("https://rickandmortyapi.com/api/character/?page=".concat(o.page)).then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){i({type:"SET_IS_LOADING",payload:!1}),i({type:"GET_CHARACTERS",payload:e.results}),i({type:"GET_INFO",payload:e.info})})).catch((function(e){console.log(e),i({type:"SET_IS_LOADING",payload:!1})}))}),[o.page]),Object(n.useEffect)((function(){i({type:"SET_IS_LOADING",payload:!0}),fetch("https://rickandmortyapi.com/api/character/?name=".concat(o.search)).then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){i({type:"SET_IS_LOADING",payload:!1}),i({type:"GET_CHARACTERS",payload:e.results})})).catch((function(e){console.log(e),i({type:"SET_IS_LOADING",payload:!1})}))}),[o.search]),c.a.createElement(d.Provider,{value:{state:o,ui:p,dispatch:i,page:o.page}},a)},f=function(){var e=Object(n.useContext)(d),a=e.dispatch,t=e.ui;return c.a.createElement("form",{className:"form"},c.a.createElement("input",{style:{border:t.border},onChange:function(e){return a({type:"SET_SEARCH",payload:e.target.value})},type:"search",id:"input",className:"input",placeholder:"Search by name"}))},b=(t(14),function(){var e=Object(n.useContext)(d),a=e.state,t=e.dispatch,r=e.page,o=a.info;console.log("info",o,r);var l=function(e){var a;if("prev"===e&&r>1)a=r-1;else if("next"===e){if(r===o.pages)return;a=r+1}t({type:"SET_PAGE",payload:a})};return c.a.createElement("div",{className:"select-page"},c.a.createElement("div",{className:"pagination"},c.a.createElement("span",{onClick:function(){return l("prev")}},"<"),c.a.createElement("span",null,r),c.a.createElement("span",{onClick:function(){return l("next")}},">")))}),g=function(){var e=Object(n.useContext)(d).ui,a=Object(n.useContext)(u).dispatch;return c.a.createElement("nav",{style:{background:e.headerBack,color:e.color},className:"main-header"},c.a.createElement("h1",null,"Rick n' morty"),c.a.createElement(f,null),c.a.createElement(b,null),c.a.createElement("button",{style:{border:e.border},className:"theme-btn",onClick:function(){return a({type:"SET_THEME"})}},"Theme"))},y=(t(15),t(16),function(e){var a=e.char,t=e.click,r=Object(n.useContext)(d).ui;return c.a.createElement("div",{style:{backgroundColor:r.characterBack,color:r.color},className:"character",onClick:t},c.a.createElement("img",{src:a.image,alt:"user"}),c.a.createElement("p",{className:"info-p "},a.name),c.a.createElement("div",{className:"main-info",style:{background:r.headerBack,color:r.color}},c.a.createElement("p",{className:"char-info-p"},c.a.createElement("span",null,"Species:"),c.a.createElement("span",null,a.species)),c.a.createElement("p",{className:"char-info-p"},c.a.createElement("span",null,"Status:")," ",c.a.createElement("span",null,a.status)),c.a.createElement("p",{className:"char-info-p"},c.a.createElement("span",null," Location:")," ",c.a.createElement("span",null,a.location.name)),c.a.createElement("p",{className:"char-info-p"},c.a.createElement("span",null," Origin:")," ",c.a.createElement("span",null,a.origin.name)),c.a.createElement("p",{className:"char-info-p"},c.a.createElement("span",null," Gender:")," ",c.a.createElement("span",null,a.gender))))}),k=c.a.memo((function(){var e=Object(n.useContext)(d).state;return e.isLoading?c.a.createElement("div",{className:"loader-wrapper"},c.a.createElement("div",{className:"lds-hourglass"})):c.a.createElement("div",{className:"chars-content"},e.characters&&e.info&&e.characters.map((function(e){return c.a.createElement(y,{key:e.id,id:e.id,char:e})})))})),O=function(e){var a=e.children,t=Object(n.useContext)(u).theme,r=t.isDarkTheme?t.dark:t.light;return c.a.createElement("div",{style:{backgroundColor:r.mainBack,color:r.color},className:"background"},a)};var v=function(){return c.a.createElement(p,null,c.a.createElement(E,null,c.a.createElement(O,null,c.a.createElement("div",{className:"App"},c.a.createElement(g,null),c.a.createElement(k,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.cf52a4a2.chunk.js.map