(this.webpackJsonpricknmorty=this.webpackJsonpricknmorty||[]).push([[0],[,,,,function(e,a,t){},,function(e,a,t){e.exports=t(18)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(5),o=t.n(r),l=(t(11),t(4),t(12),t(13),t(2)),s=t(1),i=function(e,a){switch(a.type){case"GET_CHARACTERS":return Object(s.a)({},e,{characters:a.payload});case"GET_INFO":return Object(s.a)({},e,{info:a.payload});case"SET_IS_LOADING":return Object(s.a)({},e,{isLoading:a.payload});case"SET_CHOSEN_CHARACTER":var t=[];return""!==a.payload?(t=e.characters.filter((function(e){return e.id!==a.payload.id}))).unshift(a.payload):t=e.characters,Object(s.a)({},e,{chosenCharacter:a.payload,characters:t});case"SET_PAGE":return Object(s.a)({},e,{page:a.payload});case"SET_SEARCH":return Object(s.a)({},e,{search:a.payload});default:return e}},u=Object(n.createContext)(),m=function(e,a){switch(a.type){case"SET_THEME":return Object(s.a)({},e,{isDarkTheme:!e.isDarkTheme});default:return e}},d=function(e){var a=e.children,t=Object(n.useReducer)(m,{isDarkTheme:!0,dark:{mainBack:"rgba(20, 20, 19, 0.822)",color:"rgba(177, 174, 174, 0.767)",headerBack:"rgb(14, 13, 13)",border:"1px solid white"},light:{mainBack:"rgba(172, 166, 167, 0.822)",color:"black",headerBack:"rgb(128, 120, 120)",border:"1px solid brown"}}),r=Object(l.a)(t,2),o=r[0],s=r[1];return c.a.createElement(u.Provider,{value:{theme:o,dispatch:s}},a)},p={characters:[],info:[],page:1,isLoading:!1,search:"",chosenCharacter:""},h=Object(n.createContext)(p),E=function(e){var a=e.children,t=Object(n.useReducer)(i,p),r=Object(l.a)(t,2),o=r[0],s=r[1],m=Object(n.useContext)(u).theme,d=m.isDarkTheme?m.dark:m.light;Object(n.useEffect)((function(){s({type:"SET_IS_LOADING",payload:!0}),fetch("https://rickandmortyapi.com/api/character/?page=".concat(o.page)).then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){s({type:"SET_IS_LOADING",payload:!1}),s({type:"GET_CHARACTERS",payload:e.results}),s({type:"GET_INFO",payload:e.info})})).catch((function(e){console.log(e),s({type:"SET_IS_LOADING",payload:!1})}))}),[o.page]),Object(n.useEffect)((function(){console.log("second use effect"),s({type:"SET_IS_LOADING",payload:!0}),fetch("https://rickandmortyapi.com/api/character/?name=".concat(o.search)).then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){s({type:"SET_IS_LOADING",payload:!1}),s({type:"GET_CHARACTERS",payload:e.results})})).catch((function(e){console.log(e),s({type:"SET_IS_LOADING",payload:!1})}))}),[o.search]);return c.a.createElement(h.Provider,{value:{state:o,ui:d,dispatch:s,clickedCharacterHandler:function(e){console.log(e),window.scrollTo(0,0),s({type:"SET_CHOSEN_CHARACTER",payload:e})},closeCharacterInfo:function(e){e.stopPropagation(),s({type:"SET_CHOSEN_CHARACTER",payload:""})}}},a)},f=function(){var e=Object(n.useContext)(h),a=e.dispatch,t=e.ui;return c.a.createElement("form",{className:"form"},c.a.createElement("input",{style:{border:t.border},onChange:function(e){return a({type:"SET_SEARCH",payload:e.target.value})},type:"search",id:"input",className:"input",placeholder:"Search by name"}))},y=(t(14),function(){var e=Object(n.useContext)(h),a=e.state,t=e.dispatch,r=a.info,o=[];if(r)for(var l=1;l<=r.pages;l++)o.push(c.a.createElement("option",{className:"option-page",key:"page"+l,value:l}," ",l));return c.a.createElement("div",{className:"select-page"},c.a.createElement("label",{htmlFor:"select"},"Page"),c.a.createElement("select",{id:"select",className:"pages-select",onChange:function(e){return t({type:"SET_PAGE",payload:e.target.value})}},o))}),g=function(){var e=Object(n.useContext)(h).ui,a=Object(n.useContext)(u).dispatch;return c.a.createElement("nav",{style:{background:e.headerBack,color:e.color},className:"main-header"},c.a.createElement("h1",null,"Rick n' morty"),c.a.createElement(f,null),c.a.createElement(y,null),c.a.createElement("button",{className:"theme-btn",onClick:function(){return a({type:"SET_THEME"})}},"Theme"))},b=(t(15),t(16),t(17),function(){var e=Object(n.useContext)(h),a=e.state,t=e.closeCharacterInfo,r=a.chosenCharacter;return c.a.createElement("div",{className:"char-info-div"},c.a.createElement("div",{className:"x-div"},c.a.createElement("h1",null,"Info"),c.a.createElement("p",{onClick:t,className:"x-p"},c.a.createElement("span",{className:"x-span"},"x"))),c.a.createElement("div",{className:"main-info"},c.a.createElement("p",{className:"char-info-p"},"Species: ",c.a.createElement("span",null,r.species)),c.a.createElement("p",{className:"char-info-p"},"Status: ",c.a.createElement("span",null,r.status)),c.a.createElement("p",{className:"char-info-p"},"Location: ",c.a.createElement("span",null,r.location.name)),c.a.createElement("p",{className:"char-info-p"},"Origin: ",c.a.createElement("span",null,r.origin.name)),c.a.createElement("p",{className:"char-info-p"},"Gender: ",c.a.createElement("span",null,r.gender))))}),C=function(e){var a=e.char,t=e.click,r=Object(n.useContext)(h).state.chosenCharacter;return c.a.createElement("div",{className:a.id!==r.id?"character":"selected-char",onClick:t},c.a.createElement("div",{className:a.id===r.id?"left-side":""},c.a.createElement("img",{src:a.image,alt:"user"}),c.a.createElement("p",{className:"info-p "},a.name)),a.id===r.id?c.a.createElement("div",{className:"right-side"},c.a.createElement(b,null)):null)},k=c.a.memo((function(){console.log("characters");var e=Object(n.useContext)(h),a=e.state,t=e.clickedCharacterHandler,r=c.a.createElement("p",null,"Loading...");return!a.isLoading&&a.characters&&a.info&&(r=a.characters.map((function(e){return c.a.createElement(C,{click:function(){return t(e)},key:e.id,id:e.id,char:e})}))),c.a.createElement("div",{className:"characters"},c.a.createElement("div",{className:"chars-content"},r))})),v=function(e){var a=e.children,t=Object(n.useContext)(u).theme,r=t.isDarkTheme?t.dark:t.light;return c.a.createElement("div",{style:{backgroundColor:r.mainBack,color:r.color},className:"background"},a)};var N=function(){return c.a.createElement(d,null,c.a.createElement(E,null,c.a.createElement(v,null,c.a.createElement("div",{className:"App"},c.a.createElement(g,null),c.a.createElement(k,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.d55e0f5e.chunk.js.map